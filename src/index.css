@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 10%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 10%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 10%;
    --primary: 153 100% 50%;
    --primary-foreground: 160 18% 4%;
    --secondary: 207 55% 23%;
    --secondary-foreground: 0 0% 100%;
    --muted: 0 0% 96%;
    --muted-foreground: 0 0% 40%;
    --accent: 43 56% 77%;
    --accent-foreground: 0 0% 10%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 0 0% 90%;
    --input: 0 0% 90%;
    --ring: 153 100% 50%;
    --radius: 0.5rem;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
  }

  .dark {
    --background: 160 18% 4%;
    --foreground: 0 0% 100%;
    --card: 160 16% 9%;
    --card-foreground: 0 0% 100%;
    --popover: 160 16% 9%;
    --popover-foreground: 0 0% 100%;
    --primary: 153 100% 50%;
    --primary-foreground: 160 18% 4%;
    --secondary: 150 18% 12%;
    --secondary-foreground: 0 0% 100%;
    --muted: 150 18% 12%;
    --muted-foreground: 158 22% 64%;
    --accent: 150 18% 12%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 63% 31%;
    --destructive-foreground: 0 0% 100%;
    --border: 157 18% 15%;
    --input: 157 18% 15%;
    --ring: 153 100% 50%;
    --chart-1: 153 100% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground font-sans;
  }
}

@layer utilities {
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }
}

/* Hero Animation System */
@layer components {
  /* Trophy rise animation */
  @keyframes trophy-rise {
    0% {
      transform: translateY(60px);
      opacity: 0;
    }
    100% {
      transform: translateY(0);
      opacity: 1;
    }
  }

  /* Shine burst - radial expansion */
  @keyframes shine-burst {
    0% {
      transform: scale(0);
      opacity: 0.9;
    }
    100% {
      transform: scale(3);
      opacity: 0;
    }
  }

  /* Ambient shimmer - diagonal sweep */
  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  /* Bracket fade in */
  @keyframes bracket-fade {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 0.8;
    }
  }

  .animate-trophy-rise {
    animation: trophy-rise 0.8s ease-out forwards;
  }

  .animate-shine-burst {
    animation: shine-burst 0.4s ease-out forwards;
    animation-delay: 0.6s;
  }

  .animate-shimmer {
    animation: shimmer 3s ease-in-out infinite;
    animation-delay: 1s;
  }

  .animate-bracket-fade {
    animation: bracket-fade 0.5s ease-out forwards;
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    .animate-trophy-rise,
    .animate-shine-burst,
    .animate-shimmer,
    .animate-bracket-fade,
    .trophy-shimmer,
    .trophy-globe::after,
    .trophy-body::after,
    .trophy-base-1::after,
    .trophy-base-2::after,
    .trophy-base-3::after {
      animation: none;
      opacity: 1;
      transform: none;
    }
  }

  /* CSS Trophy - World Cup Style */
  .trophy-css {
    width: 80px;
    height: 100px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  /* Shimmer mixin - applied via pseudo-elements to each trophy part */
  .trophy-globe,
  .trophy-body,
  .trophy-base-1,
  .trophy-base-2,
  .trophy-base-3 {
    position: relative;
    overflow: hidden;
  }

  .trophy-globe::after,
  .trophy-body::after,
  .trophy-base-1::after,
  .trophy-base-2::after,
  .trophy-base-3::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
      110deg,
      transparent 30%,
      rgba(255, 255, 255, 0.6) 45%,
      rgba(255, 255, 255, 0.9) 50%,
      rgba(255, 255, 255, 0.6) 55%,
      transparent 70%
    );
    background-size: 300% 100%;
    background-position: -100% 0;
    animation: shimmer 0.8s ease-in-out;
    animation-delay: 0.8s;
    pointer-events: none;
    border-radius: inherit;
  }

  /* Globe at top */
  .trophy-globe {
    width: 32px;
    height: 32px;
    background: linear-gradient(135deg, #E8D5A3 0%, #C9A227 50%, #8B7355 100%);
    border-radius: 50%;
    box-shadow:
      inset -4px -4px 8px rgba(0, 0, 0, 0.2),
      inset 4px 4px 8px rgba(255, 255, 255, 0.3),
      0 2px 8px rgba(201, 162, 39, 0.4);
  }

  /* Side handles/figures - shimmer on pseudo-elements not practical here */
  .trophy-handles {
    width: 48px;
    height: 24px;
    position: relative;
    margin-top: -4px;
  }

  .trophy-handles::before,
  .trophy-handles::after {
    content: '';
    position: absolute;
    width: 8px;
    height: 20px;
    background: linear-gradient(180deg, #C9A227 0%, #8B7355 100%);
    border-radius: 4px 4px 2px 2px;
    top: 0;
  }

  .trophy-handles::before {
    left: 4px;
    transform: rotate(-15deg);
  }

  .trophy-handles::after {
    right: 4px;
    transform: rotate(15deg);
  }

  /* Central body/stem */
  .trophy-body {
    width: 16px;
    height: 20px;
    background: linear-gradient(180deg, #C9A227 0%, #A8892B 50%, #C9A227 100%);
    margin-top: -8px;
    clip-path: polygon(20% 0%, 80% 0%, 100% 100%, 0% 100%);
  }

  /* Body shimmer needs to match clip-path */
  .trophy-body::after {
    clip-path: polygon(20% 0%, 80% 0%, 100% 100%, 0% 100%);
  }

  /* Stepped base container */
  .trophy-base {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: 2px;
  }

  .trophy-base-1 {
    width: 24px;
    height: 6px;
    background: linear-gradient(180deg, #C9A227 0%, #8B7355 100%);
  }

  .trophy-base-2 {
    width: 32px;
    height: 6px;
    background: linear-gradient(180deg, #A8892B 0%, #8B7355 100%);
  }

  .trophy-base-3 {
    width: 40px;
    height: 8px;
    background: linear-gradient(180deg, #C9A227 0%, #6B5B45 100%);
    border-radius: 0 0 2px 2px;
  }

  /* Stagger shimmer animation - plays once after trophy rise (0.8s) completes */
  .trophy-globe::after {
    animation-delay: 0.85s;
  }

  .trophy-body::after {
    animation-delay: 0.9s;
  }

  .trophy-base-1::after {
    animation-delay: 0.95s;
  }

  .trophy-base-2::after {
    animation-delay: 1.0s;
  }

  .trophy-base-3::after {
    animation-delay: 1.05s;
  }

  /* Keep shimmer marker for test compatibility */
  .trophy-shimmer {
    position: absolute;
    width: 1px;
    height: 1px;
    opacity: 0;
    pointer-events: none;
  }

  /* Step completion animation for creation progress */
  @keyframes step-complete {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
    }
    100% {
      transform: scale(1);
    }
  }

  .animate-step-complete {
    animation: step-complete 0.3s ease-out;
  }

  /* Reduced motion support for step-complete */
  @media (prefers-reduced-motion: reduce) {
    .animate-step-complete {
      animation: none;
    }
  }
}

/* Special Effect Classes */
@layer utilities {
  /* Green text glow */
  .text-glow {
    text-shadow: 0 0 30px rgba(0, 255, 135, 0.2);
  }

  /* Button glow */
  .btn-glow {
    box-shadow: 0 0 20px rgba(0, 255, 135, 0.25);
  }
  .btn-glow:hover {
    box-shadow: 0 0 30px rgba(0, 255, 135, 0.4);
  }

  /* Hide scrollbar utility for horizontal scroll containers */
  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
}
